<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/mcpi/maximo-cpi/data-collection/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Harmony Checker Data Collection - Maximo Cluster Performance Insight</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Harmony Checker Data Collection";
        var mkdocs_page_input_path = "maximo-cpi/data-collection.md";
        var mkdocs_page_url = "/mcpi/maximo-cpi/data-collection/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Maximo Cluster Performance Insight
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Maximo-CPI User Guide</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../running-maximo-cpi/">Running Maximo-CPI</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Harmony Checker Data Collection</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../data-review/">Harmony Checker Data Review</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../custom-metric-collection/">Custom Metric Collection</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../logging-collection/">Logging Collection</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scheduled-scaling/">Scheduled Scaling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../slack-notification-sample/">Slack Notification Sample</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../supervisor/">Supervisor Service</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cli-commands/">Maximo-CPI CLI Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../faq/">Frequently Asked Questions</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../changelog/">Changelog</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Maximo-CPI Observability</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../observability/mas-http-lrq-exporter/">MAS-HTTP-LRQ Exporter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../observability/mas-db-exporter/">MAS-DB Exporter</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Diagnosis Handbook</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../diagnosis/diagnostic-tool/">Diagnosis Tool</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../diagnosis/diagnostic-process/">Diagnosis Process</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="https://ibm-mas.github.io/mas-performance/">Maximo Application Suite (MAS) Performance Wiki</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Maximo Cluster Performance Insight</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Maximo-CPI User Guide</li>
      <li class="breadcrumb-item active">Harmony Checker Data Collection</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/mcpi/blob/master/docs/maximo-cpi/data-collection.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div><p><strong>Maximo-CPI Harmony Checker</strong> is a new utility that use short and long term snapshots to address specific best practices for deployment of Maximo App Suite. It can assist in pinpointing areas that need improvement and provide actionable insights for optimizing the MAS deployment. </p>
<h3 id="harmony-checker-data-collection">Harmony Checker Data Collection<a class="headerlink" href="#harmony-checker-data-collection" title="Permanent link">ÔÉÅ</a></h3>
<ul>
<li>Enter into <strong>Maximo-CPI</strong> Container<ul>
<li>in <strong>docker</strong>: <code>docker exec -it --user root mcpi bash</code></li>
<li>in <strong>openshift</strong>: go to <strong>maximo-cpi</strong> project -&gt; <strong>mcpi-deployment-xxx</strong> pod -&gt; <strong>Terminal</strong> tab</li>
</ul>
</li>
<li>OC login on the target cluster: <code>oc login https://&lt;openshift-master-url&gt;:&lt;port&gt; -u &lt;username&gt; -p &lt;password&gt;</code> or <code>oc login https://&lt;openshift-master-url&gt;:&lt;port&gt; --token=&lt;token&gt;</code><ul>
<li><strong>note:</strong> If <strong>Maximo-CPI</strong> is depolyed by using <a href="../../download/deployment/mcpi-deployment-full.yaml">mcpi-deployment-full.yaml</a>, it does <strong>NOT</strong> require oc authentication for the local cluster</li>
</ul>
</li>
<li>Execute data collection command: <code>collect-metric.sh</code>. The script accepts the following environment variables. <strong>Note:</strong>  Environment variables are <strong>Case-Sensitive</strong>.<ul>
<li>
<table>
<thead>
<tr>
<th>Env   Variable Name</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>MHCJSON</td>
<td>Maximo Haromony   Checker JSON File</td>
<td>export MHCJSON="${TMPDIR}/mhc-$(date   +"%Y-%m-%d-%H-%M").json"</td>
</tr>
<tr>
<td>INTERVALLIST</td>
<td>Default intervallist</td>
<td>export INTERVALLIST="5m   15m 1h 3h 1d 3d 5d"</td>
</tr>
<tr>
<td>NSLIST</td>
<td>Namespace list   related to MAS apps</td>
<td>export NSLIST="mas-.<em>|db2u|.</em>mongo.<em>|.</em>-sls|kmodels.<em>|aibroker.</em>"</td>
</tr>
<tr>
<td>EXPIREDINDAYS</td>
<td>Check the certficate   expiration in how many days</td>
<td>export EXPIREDINDAYS=10</td>
</tr>
<tr>
<td>SKIP_PIDLIMIT_CHECK</td>
<td>SKIP PIDLIMIT Check</td>
<td>export SKIP_PIDLIMIT_CHECK="false"</td>
</tr>
<tr>
<td>COLLECT_DATA_ONLY</td>
<td>Collect Data Only</td>
<td>export COLLECT_DATA_ONLY="false"</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>When the command finishes executing, it returns the path to the MHC JSON file. Use the path for <a href="../data-review/">Data Review</a> Below is a sample of the returning. In this case, the path to the MHC JSON file is <strong>/tmp/mhc-2024-08-01-19-36.json</strong>
<img alt="alt text" src="../data-collection.png"></li>
</ul></div>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/mcpi" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../running-maximo-cpi/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../data-review/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
